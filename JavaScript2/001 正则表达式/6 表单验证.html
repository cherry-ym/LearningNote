<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #div1{width: 250px; height: 300px; background: cadetblue; border: 1px black solid;
            text-align: center; margin: 100px auto; padding: 50px;
        }
        #div1 input{width: 200px; height: 30px; font-size: 18px; margin-top: 20px;}
        #div1 span{font-size: 14px; color: black; margin-top: 5px; display: block;}
        #div1 .testCode{width: 70px; height: 30px; line-height: 30px; background: burlywood; 
        color: black; float: left; margin: 15px 0 0 12px;}
    </style>
    <script>
        window.onload = function(){
            var oDiv = document.getElementById('div1');
            var oUsername = document.getElementById('username');
            var oUsername_span = document.getElementById('username_span');
            var oPassword = document.getElementById('password');
            var oDivs = oDiv.getElementsByClassName('testCode');

            oUsername.onkeyup = function(){
                var oValue = oUsername.value;
                //判断长度是否符合要求
                if(oValue.length < 6 || oValue.length > 18){
                    oUsername_span.innerHTML = "!长度应为6~18个字符0";
                    oUsername_span.style.color = "red";
                }else if(!/^[a-zA-Z]/.test(oValue[0])){
                    oUsername_span.innerHTML = "邮件必须以字母开头";
                    oUsername_span.style.color = "red";
                }else if(/\W/.test(oValue)){
                    oUsername_span.innerHTML = "邮件必须以数字、字母、下划线组成";
                    oUsername_span.style.color = "red";
                }else{
                    oUsername_span.innerHTML = "该用户名可注册";
                    oUsername_span.style.color = "green";
                }
            }

            oPassword.onkeyup = function(){
                var oValue = oPassword.value;
                for(var i = 0; i < oDivs.length; i++){
                    oDivs[i].style.background = 'burlywood';
                }
                if(oValue.length > 6){
                    if(/^\d+$/.test(oValue)){
                        oDivs[0].style.background = 'orange';
                    }else if(/\d/.test(oValue) && /[a-z]/.test(oValue) && /[A-Z]/.test(oValue)){
                        oDivs[2].style.background = 'green';
                    }else{
                        oDivs[1].style.background = 'yellow';
                    }
                }
            }
        }
    </script>
</head>
<body>
    
    <div id="div1">
        <input type="text" id="username" placeholder="用户名">
        <span id="username_span">6~18个字符，可使用数字、字母、下划线，须以字母开头</span>
        <input type="text" id="password" placeholder="密码">
        <div class="testCode">弱</div>
        <div class="testCode">中</div>
        <div class="testCode">强</div>
    </div>
</body>
</html>